<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/userForm.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>

<body style="background: url(/loginImg.jpg)no-repeat;background-size: cover;">

    <form action="/" id="form" method="post" style="top:20%; background: rgba(255, 255, 255, 0.6);width: 30%;">
        <% if(value==="you have not authrization"){ %>
            <label for="" style="color: red;"><%=value%></label>
          <% }else{ %>  
             <label for=""></label>
          <% } %>
        <h2 class="mb-4">Login form</h2>
        <div class="row extra">
            <div class="col-md-3">
                <label for="">Email</label>
            </div>
            <div class="col-md-9">
              
                <% if(value==="your account dose not axist"){ %>
                    <label for="" style="color: red;" id="emailLable"><%=value%></label>
                  <% }else{ %>  
                    <label for="" id="emailLable"></label>
                  <% } %>
                <input type="text" name="email" id="emailInput" value="<%=email%>">
             </div>
        </div>
        <div class="row extra">
            <div class="col-md-3">
                <label for="">Password</label>
            </div>
            <div class="col-md-9">
                
                <% if(value==="your password is incorrect"){ %>
                   <label for="" style="color: red;" id="passwordLable"><%=value%></label>
                 <% }else{ %>  
                    <label for="" id="passwordLable"></label>
                 <% } %>
                <input type="password" name="password" id="passwordInput" value="<%=password%>">
               
              
            </div>
        </div>
      <button type="submit">Submit</button>
        <a href="/signup" class="text-dark list">Sign Up</a>


        <script type="text/javascript">
            function preback(){window.history.forward();}
            setTimeout("preback()",0)
            window.onunload=function(){null};
             
         </script>

    <script>

        let form = document.getElementById("form")

       
        let emailLable = document.getElementById("emailLable")
        let passwordLable = document.getElementById("passwordLable")

        let emailInput = document.getElementById("emailInput")
        let passwordInput = document.getElementById("passwordInput")
        let reg = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        var regpass = /^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/

        form.addEventListener("submit", (e) => {
        
           if(emailInput.value.trim()===""){
                emailLable.innerHTML = "please enter your email";
                e.preventDefault()
            }else{
                if (reg.test(emailInput.value.trim()) == false) {
                        emailLable.innerHTML = "please enter valid email";
                        e.preventDefault()
                    }
                    else {
                        emailLable.innerHTML = "";
                    }
            }
            if(passwordInput.value.trim()===""){
                passwordLable.innerHTML = "please enter your password";
                e.preventDefault()
            }else{
                if(regpass.test(passwordInput.value.trim())){
                    passwordLable.innerHTML = "";
                   }else{
                    passwordLable.innerHTML = "password must be spacial character";
                    e.preventDefault()
                   }
            }
            
            
        })
    </script>
</body>

</html>